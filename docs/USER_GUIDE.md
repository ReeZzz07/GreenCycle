# Пользовательская инструкция GreenCycle

## Введение

GreenCycle - это система полного учёта закупок, продаж, выкупа и финансов для бизнеса по продаже декоративных растений. Система позволяет вести учёт всех операций, отслеживать остатки на складе, управлять клиентами и генерировать отчёты.

## Вход в систему

1. Откройте веб-приложение GreenCycle в браузере
2. Введите ваш email и пароль
3. Нажмите кнопку "Войти"
4. После успешной авторизации вы будете перенаправлены на главную страницу (Дашборд)

## Роли и права доступа

### Супер-администратор (Super Admin)
- Полный доступ ко всем функциям системы
- Управление пользователями и ролями
- Технические настройки
- Доступ к логам и отладке

### Администратор (Admin)
- Полный доступ ко всем бизнес-модулям
- Управление поставщиками, клиентами, продажами, выкупами
- Управление финансами и отчётами
- Управление складом

### Менеджер (Manager)
- Управление клиентами
- Создание и управление продажами
- Управление выкупами
- Просмотр отчётов

### Бухгалтер (Accountant)
- Просмотр финансовых данных
- Просмотр отчётов
- Просмотр продаж и выкупов
- Просмотр склада

### Логист (Logistic)
- Управление поставками
- Управление складом
- Создание списаний
- Просмотр остатков

## Основные модули

### 1. Дашборд

Дашборд - это главная страница системы, которая отображает сводные метрики:
- Текущий баланс по всем счетам
- Количество товаров на складе
- Продажи за текущий месяц
- Закупки за текущий месяц

**Как использовать:**
- Просматривайте метрики на главной странице
- Кликните на любую метрику для просмотра деталей

### 2. Закупки

Модуль закупок позволяет управлять поставками и партиями товаров.

#### Создание поставки

1. Перейдите в раздел "Закупки"
2. Нажмите кнопку "Создать поставку"
3. Заполните форму:
   - Выберите поставщика (или создайте нового)
   - Укажите дату прибытия
   - Добавьте партии товаров:
     - Тип растения
     - Размер (мин-макс в см)
     - Тип горшка
     - Количество
     - Цена за единицу
4. Нажмите кнопку "Создать"
5. Система автоматически рассчитает общую стоимость поставки

#### Просмотр поставок

- Список всех поставок отображается в таблице
- Можно фильтровать по дате, поставщику
- Для каждой поставки можно скачать накладную в PDF

#### Скачивание накладной

1. Найдите нужную поставку в списке
2. Нажмите кнопку "Скачать накладную" (иконка скачивания)
3. PDF файл будет скачан на ваш компьютер

### 3. Склад

Модуль склада позволяет управлять остатками товаров и списаниями.

#### Просмотр остатков

1. Перейдите в раздел "Склад"
2. Просмотрите таблицу остатков:
   - Тип растения
   - Размер
   - Тип горшка
   - Текущее количество
   - Начальное количество
   - Цена за единицу

#### Создание списания

1. Перейдите в раздел "Склад"
2. Нажмите кнопку "Создать списание"
3. Заполните форму:
   - Выберите партию
   - Укажите количество
   - Укажите причину списания (брак, повреждение, etc.)
4. Нажмите кнопку "Создать"
5. Система автоматически обновит остаток на складе

#### Просмотр списаний

- Список всех списаний отображается в таблице
- Можно фильтровать по дате, партии, причине

### 4. Клиенты

Модуль клиентов позволяет управлять клиентской базой.

#### Создание клиента

1. Перейдите в раздел "Клиенты"
2. Нажмите кнопку "Создать клиента"
3. Заполните форму:
   - Полное имя
   - Контактная информация (телефон, email)
   - Полный адрес
   - ИНН (опционально)
   - Заметки (опционально)
4. Нажмите кнопку "Создать"

#### Поиск клиентов

1. Перейдите в раздел "Клиенты"
2. Используйте поле поиска для поиска по имени или контактной информации
3. Результаты отображаются в таблице

#### Редактирование клиента

1. Найдите клиента в списке
2. Нажмите кнопку "Редактировать"
3. Внесите изменения
4. Нажмите кнопку "Сохранить"

### 5. Продажи

Модуль продаж позволяет управлять продажами товаров.

#### Создание продажи

1. Перейдите в раздел "Продажи"
2. Нажмите кнопку "Создать продажу"
3. Заполните форму:
   - Выберите клиента (или создайте нового)
   - Укажите дату продажи
   - Добавьте позиции:
     - Выберите партию
     - Укажите количество
     - Укажите цену продажи за единицу
4. Нажмите кнопку "Создать"
5. Система автоматически:
   - Рассчитает общую сумму продажи
   - Обновит остатки на складе
   - Создаст финансовую транзакцию
   - Сгенерирует задачу на выкуп (если применимо)

#### Просмотр продаж

- Список всех продаж отображается в таблице
- Можно фильтровать по дате, клиенту
- Для каждой продажи можно скачать счёт в PDF

#### Отмена продажи

1. Найдите нужную продажу в списке
2. Нажмите кнопку "Отменить продажу"
3. Подтвердите отмену
4. Система автоматически:
   - Вернёт товары на склад
   - Отменит финансовую транзакцию

#### Скачивание счёта

1. Найдите нужную продажу в списке
2. Нажмите кнопку "Скачать счёт" (иконка скачивания)
3. PDF файл будет скачан на ваш компьютер

### 6. Выкуп

Модуль выкупа позволяет управлять выкупами товаров у клиентов.

#### Создание выкупа

1. Перейдите в раздел "Выкуп"
2. Нажмите кнопку "Создать выкуп"
3. Заполните форму:
   - Выберите исходную продажу
   - Выберите клиента
   - Укажите планируемую дату выкупа
   - Добавьте позиции:
     - Выберите позицию из исходной продажи
     - Укажите количество
     - Укажите цену выкупа за единицу
     - Укажите состояние товара (опционально)
4. Нажмите кнопку "Создать"
5. Система автоматически:
   - Создаст уведомления для менеджеров (60, 30, 7 дней до выкупа)
   - Отправит email уведомления (если настроено)

#### Просмотр выкупов

- Список всех выкупов отображается в таблице
- Можно фильтровать по статусу (planned, contacted, declined, completed)
- Можно фильтровать по дате, клиенту

#### Завершение выкупа

1. Найдите нужный выкуп в списке
2. Нажмите кнопку "Завершить выкуп"
3. Укажите фактическую дату выкупа (опционально)
4. Нажмите кнопку "Завершить"
5. Система автоматически:
   - Обновит статус выкупа
   - Вернёт товары на склад
   - Создаст финансовую транзакцию

#### Отклонение выкупа

1. Найдите нужный выкуп в списке
2. Нажмите кнопку "Отклонить выкуп"
3. Подтвердите отклонение
4. Система обновит статус выкупа

#### Скачивание акта выкупа

1. Найдите нужный выкуп в списке
2. Нажмите кнопку "Скачать акт" (иконка скачивания)
3. PDF файл будет скачан на ваш компьютер

### 7. Финансы

Модуль финансов позволяет управлять счетами, транзакциями и изъятиями партнёров.

#### Управление счетами

**Создание счёта:**
1. Перейдите в раздел "Финансы"
2. Перейдите на вкладку "Счета"
3. Нажмите кнопку "Создать счёт"
4. Заполните форму:
   - Название счёта
   - Тип счёта (cash, bank, card)
   - Начальный баланс
5. Нажмите кнопку "Создать"

**Просмотр счетов:**
- Список всех счетов отображается в таблице
- Для каждого счёта отображается текущий баланс
- Можно пересчитать баланс вручную

**Пересчёт баланса:**
1. Найдите нужный счёт в списке
2. Нажмите кнопку "Пересчитать баланс"
3. Система пересчитает баланс на основе всех транзакций

#### Управление транзакциями

**Создание транзакции:**
1. Перейдите в раздел "Финансы"
2. Перейдите на вкладку "Транзакции"
3. Нажмите кнопку "Создать транзакцию"
4. Заполните форму:
   - Выберите счёт
   - Тип транзакции (income, expense)
   - Сумма
   - Описание
5. Нажмите кнопку "Создать"
6. Система автоматически обновит баланс счёта

**Просмотр транзакций:**
- Список всех транзакций отображается в таблице
- Можно фильтровать по счёту, типу, дате

#### Изъятия партнёров

**Создание изъятия:**
1. Перейдите в раздел "Финансы"
2. Перейдите на вкладку "Изъятия партнёров"
3. Нажмите кнопку "Создать изъятие"
4. Заполните форму:
   - Выберите счёт
   - Сумма
   - Описание
5. Нажмите кнопку "Создать"
6. Система автоматически обновит баланс счёта

**Просмотр изъятий:**
- Список всех изъятий отображается в таблице
- Можно фильтровать по счёту, дате

### 8. Отчёты

Модуль отчётов позволяет генерировать различные отчёты и аналитику.

#### Прибыль по поставкам

1. Перейдите в раздел "Отчёты"
2. Перейдите на вкладку "Прибыль по поставкам"
3. Укажите период (начальная и конечная дата)
4. Нажмите кнопку "Применить фильтры"
5. Просмотрите отчёт в таблице
6. Для экспорта в Excel нажмите кнопку "Экспорт в Excel"

#### Прибыль по клиентам

1. Перейдите в раздел "Отчёты"
2. Перейдите на вкладку "Прибыль по клиентам"
3. Укажите период (начальная и конечная дата)
4. Нажмите кнопку "Применить фильтры"
5. Просмотрите отчёт в таблице
6. Для экспорта в Excel нажмите кнопку "Экспорт в Excel"

#### Прогноз выкупа

1. Перейдите в раздел "Отчёты"
2. Перейдите на вкладку "Прогноз выкупа"
3. Укажите период (начальная и конечная дата)
4. Нажмите кнопку "Применить фильтры"
5. Просмотрите отчёт в таблице
6. Для экспорта в Excel нажмите кнопку "Экспорт в Excel"

#### Движение средств

1. Перейдите в раздел "Отчёты"
2. Перейдите на вкладку "Движение средств"
3. Укажите период (начальная и конечная дата)
4. Нажмите кнопку "Применить фильтры"
5. Просмотрите отчёт в таблице
6. Для экспорта в Excel нажмите кнопку "Экспорт в Excel"

#### Активность клиентов

1. Перейдите в раздел "Отчёты"
2. Перейдите на вкладку "Активность клиентов"
3. Укажите период (начальная и конечная дата)
4. Нажмите кнопку "Применить фильтры"
5. Просмотрите отчёт в таблице
6. Для экспорта в Excel нажмите кнопку "Экспорт в Excel"

#### Экспорт в Excel

1. Выберите нужный отчёт
2. Примените фильтры
3. Нажмите кнопку "Экспорт в Excel"
4. Excel файл будет скачан на ваш компьютер

### 9. Уведомления

Модуль уведомлений позволяет просматривать и управлять уведомлениями.

#### Просмотр уведомлений

1. Перейдите в раздел "Уведомления" (или кликните на иконку колокольчика в header)
2. Просмотрите список уведомлений
3. Можно фильтровать по прочитанности (все, прочитанные, непрочитанные)

#### Отметка как прочитанное

1. Найдите нужное уведомление в списке
2. Нажмите кнопку "Отметить как прочитанное"
3. Уведомление будет отмечено как прочитанное

#### Отметка всех как прочитанные

1. Перейдите в раздел "Уведомления"
2. Нажмите кнопку "Отметить все как прочитанные"
3. Все уведомления будут отмечены как прочитанные

#### Количество непрочитанных

- Количество непрочитанных уведомлений отображается на иконке колокольчика в header
- Обновляется автоматически каждые 30 секунд

### 10. Профиль

Модуль профиля позволяет управлять вашим профилем и настройками.

#### Просмотр профиля

1. Перейдите в раздел "Профиль" (или кликните на ваш avatar в header)
2. Просмотрите информацию о вашем профиле:
   - Email
   - Полное имя
   - Роль

#### Смена пароля

1. Перейдите в раздел "Профиль"
2. Перейдите на вкладку "Смена пароля"
3. Заполните форму:
   - Текущий пароль
   - Новый пароль
   - Подтверждение нового пароля
4. Нажмите кнопку "Изменить пароль"
5. Пароль будет изменён

## PWA функции

### Установка на домашний экран

1. Откройте приложение в браузере
2. Нажмите кнопку "Установить" в браузере (или используйте меню браузера)
3. Подтвердите установку
4. Приложение будет установлено на ваш домашний экран

### Offline режим

- Приложение работает в offline режиме
- Можно просматривать кэшированные данные
- Запросы на изменение данных сохраняются в очередь
- При восстановлении соединения запросы автоматически отправляются

### Обновление приложения

- При наличии новой версии приложения появится уведомление
- Нажмите кнопку "Обновить" для обновления приложения
- Приложение автоматически обновится

## Часто задаваемые вопросы (FAQ)

### Как создать новую поставку?

Перейдите в раздел "Закупки", нажмите кнопку "Создать поставку", заполните форму и нажмите "Создать".

### Как создать новую продажу?

Перейдите в раздел "Продажи", нажмите кнопку "Создать продажу", заполните форму и нажмите "Создать".

### Как отменить продажу?

Найдите нужную продажу в списке, нажмите кнопку "Отменить продажу" и подтвердите отмену.

### Как создать выкуп?

Перейдите в раздел "Выкуп", нажмите кнопку "Создать выкуп", заполните форму и нажмите "Создать".

### Как скачать счёт в PDF?

Найдите нужную продажу в списке, нажмите кнопку "Скачать счёт" (иконка скачивания).

### Как экспортировать отчёт в Excel?

Перейдите в раздел "Отчёты", выберите нужный отчёт, примените фильтры и нажмите кнопку "Экспорт в Excel".

### Как просмотреть уведомления?

Кликните на иконку колокольчика в header или перейдите в раздел "Уведомления".

### Как изменить пароль?

Перейдите в раздел "Профиль", перейдите на вкладку "Смена пароля", заполните форму и нажмите "Изменить пароль".

## Поддержка

Если у вас возникли вопросы или проблемы, обратитесь к администратору системы.

## Безопасность

- Не передавайте свои учётные данные другим лицам
- Используйте надёжные пароли
- Выходите из системы после завершения работы
- Сообщайте о подозрительной активности администратору

